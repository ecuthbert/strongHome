version: '3.3'
services:
  openldap:
    # command: --loglevel debug
    environment:
      STRONGHOME_TEST: "true"
      LDAP_ADMIN_PASSWORD: "admin"
    volumes:
      - $PWD/test/ldap:/test:ro
      - $PWD/test/strongHome-config-test.yaml:/strongHome/strongHome-config-test.yaml:ro
    ports:
      - 389:389
      - 636:636
    env_file:
      - $PWD/test/test.env


  freeradius:
    command: -XX
    environment:
      STRONGHOME_TEST: "true"
    volumes:
      - $PWD/test/radius:/test:ro


  # webldap:
  #   image: osixia/phpldapadmin:0.8.0
  #   environment:
  #     PHPLDAPADMIN_LDAP_HOSTS: openldap
  #   ports:
  #     - "443:443"
  #     - "80:80"
  #   networks:
  #     - ldap-net
